"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33999],{79998:function(a,b,c){var d=c(28598),e=c(82684),f=c(51521),g=c(39284),h=c(32984),i=c(1198),j=c(18994),k=c(57186),l=c(13953),m=c(44346);function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var o=(0,c(51774).default)(function(){return c.e(8263).then(c.bind(c,8263))},{loadableGenerated:{webpack:function(){return[8263]},modules:["../src/contest/components/ActivityLog/index.tsx -> ./activity"]}});b.Z=function(a){var b=a.rowsPerPage,c=(0,e.useContext)(l.Z).properties,p=c.id,q=c.slug,r=(0,e.useState)([]),s=r[0],t=r[1],u=(0,e.useState)(void 0===b?10:b),v=u[0];u[1];var w=(0,e.useState)(0),x=w[0],y=w[1],z=(0,e.useState)(25),A=z[0],B=z[1],C=(0,e.useState)(!1),D=C[0],E=C[1],F=(0,e.useState)(null),G=F[0],H=F[1],I=(0,e.useState)(0),J=I[0],K=I[1],L=(0,e.useState)(!0),M=L[0],N=L[1];(0,h.u)();var O=function(a){if(M||a){E(!1);var b={id:p};(0,i.Z)({query:j.OR,variables:b}).then(function(a){var b,c,d,e,f,g,h,i,j=a.success,k=a.data;a.errors,j&&(N(null===(b=k.contest)|| void 0===b?void 0:null===(c=b.activityLog)|| void 0===c?void 0:c.hasNext),t(null===(d=k.contest)|| void 0===d?void 0:null===(e=d.activityLog)|| void 0===e?void 0:e.activities),B(null===(f=k.contest)|| void 0===f?void 0:null===(g=f.activityLog)|| void 0===g?void 0:g.totalCount),H(null===(h=k.contest)|| void 0===h?void 0:null===(i=h.activityLog)|| void 0===i?void 0:i.lastUpdated),y(x+1))}).finally(function(){return E(!0)})}};(0,e.useEffect)(function(){O(!0)},[]);var P=(0,d.jsx)("div",{className:"p-6 text-center",children:(0,d.jsx)("h3",{children:"Loading Activity Log..."})});return(0,d.jsxs)("div",{className:"px-2 md:px-6 py-3",children:[D&&0===s.length?(0,d.jsx)(k.Z,{iconClassName:"fad fa-empty-set",title:"No Activities Logged",text:" Seems like no activities have been logged for this contests yet. If the contest has started and have been receiving submissions, this might be likely due to an error from our part. "}):(null==s?void 0:s.length)>0?(0,d.jsx)("div",{children:(0,d.jsx)(m.Z,{properties:[{id:"TIMESTAMP",label:"Timestamp",space:"1",fontSize:"1.1rem",value:function(a){return(null==a?void 0:a.timestamp)?(0,f.Z)((0,g.Z)(a.timestamp),"hh:mm a, dd MMM"):(0,d.jsx)("div",{})}},{id:"ACTIVITY",label:"Activity",space:"3",value:function(a){return(0,d.jsx)(o,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){n(a,b,c[b])})}return a}({},a,{slug:q}))}}],items:s,canLoadMore:M,isLoading:!D,onLoadMore:function(){if(M){E(!1);var a={offset:0,id:p};x>1&&(a.offset=(x-1)*v),(0,i.Z)({query:j.OR,variables:a}).then(function(a){var b,c,d,e,f,g,h,i,j=a.success,k=a.data;a.errors,j&&(E(!0),K(J+1),N(null===(b=k.contest)|| void 0===b?void 0:null===(c=b.activityLog)|| void 0===c?void 0:c.hasNext),t(s.concat(null===(d=k.contest)|| void 0===d?void 0:null===(e=d.activityLog)|| void 0===e?void 0:e.activities)),B(null===(f=k.contest)|| void 0===f?void 0:null===(g=f.activityLog)|| void 0===g?void 0:g.totalCount),H(null===(h=k.contest)|| void 0===h?void 0:null===(i=h.activityLog)|| void 0===i?void 0:i.lastUpdated),y(x+1))}).finally(function(){return E(!0)})}},maxHeight:"60vh"})}):P,G&&(0,d.jsx)("div",{className:"flex justify-end my-2 p-2",children:(0,d.jsxs)("div",{children:["Last Updated: ",(0,f.Z)((0,g.Z)(G),"hh:mm a, dd MMM yy")]})})]})}},57186:function(a,b,c){var d=c(28598);function e(){var a,b,c=(a=["\n    img {\n        max-height: 220px;\n        margin-bottom: 0.35rem;\n    }\n    i {\n        font-size: 120px;\n        margin-bottom: 1rem;\n    }\n    h1 {\n        color: ",";\n        font-size: calc(1.5rem + 1vw);\n    }\n    p {\n        opacity: 0.8;\n        font-size: 1.2rem;\n        max-width: 550px;\n        margin-bottom: 0;\n    }\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return e=function(){return c},c}c(82684);var f=(0,c(49668).default)("section")(e(),function(a){return a.theme.secondary});b.Z=function(a){var b=a.title,c=a.icon,e=a.iconClassName,g=a.text,h=a.buttonRender,i=a.minHeight;return(0,d.jsx)("div",{className:"flex items-center text-center justify-center",style:{minHeight:void 0===i?"80vh":i},children:(0,d.jsxs)(f,{children:[c?(0,d.jsx)("img",{src:c,alt:"",draggable:"false"}):(0,d.jsx)("i",{className:e}),(0,d.jsx)("h1",{children:b}),g&&(0,d.jsx)("div",{className:"flex items-center justify-center",children:(0,d.jsx)("p",{children:g})}),(void 0===h?function(){return(0,d.jsx)("div",{})}:h)()]})})}},14329:function(a,b,c){var d=c(73359);function e(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function f(){var a=e(["\n  50% {\n    background-position: 100%;\n  }\n"]);return f=function(){return a},a}function g(){var a=e(["\n    background-repeat: no-repeat;\n    border-radius: ",";\n    background-color: hsla(0,0%,55%,.2);\n    background-image: linear-gradient(\n        90deg,\n        hsla(0,0%,35%,.2) 0px,\n        hsla(0,0%,45%,.2) 30%,\n        hsla(0,0%,55%,.2) 90%\n    );\n    background-size: 600px;\n    min-width: ",";\n    width: ",";\n    height: ",";\n    animation: "," 1s infinite alternate-reverse linear;\n    margin-bottom: ",";\n"]);return g=function(){return a},a}var h=(0,d.keyframes)(f()),i=(0,c(49668).default)("div")(g(),function(a){return a.circular?"100vw":"2px"},function(a){return a.minWidth||null},function(a){var b=a.w;return b?"".concat(b):"20px"},function(a){var b=a.h;return b?"".concat(b):"20px"},h,function(a){return a.mb||"0"});b.Z=i},18994:function(a,b,c){c.d(b,{Hg:function(){return e},aB:function(){return f},OR:function(){return g},U6:function(){return h},we:function(){return i},pC:function(){return j},Zp:function(){return k},dg:function(){return l}});var d=c(59082);c.n(d);var e="\nquery ($contestID: ID!, $offset: Int, $count: Int, $keyword: String, $filters: ScoreboardFilterInput, $sorts: [ContestScoreboardSortInput]) {\n  contest(id: $contestID) {\n    properties{\n      registrationProfileFields{\n        field\n      }\n      allowTeams\n      allowIndividuals\n    }\n    scoreboard(\n      offset: $offset\n      count: $count\n      keyword: $keyword\n      filters: $filters\n      sorts: $sorts\n    ) {\n      totalCount\n      hasNext\n\n     scores {\n        rank\n        points\n        attempts\n        flagsSubmitted\n        challengesCompleted\n        firstBloods\n        secondBloods\n        thirdBloods\n        completion\n        lastSolveTimestamp\n        lastAttemptTimestamp\n        lastSolvedChallenge {\n          challenge {\n            id\n            name\n          }\n        }\n        lastAttemptedChallenge {\n          challenge {\n            id\n            name\n          }\n        }\n        challenges {\n          challenge {\n            id\n            category {\n              id\n            }\n          }\n          attempts\n          solves\n          isSolved\n          isFirstBlood\n          isSecondBlood\n          isThirdBlood\n          points\n          lastSolveTimestamp\n          lastAttemptTimestamp\n        }\n        contestant {\n          id\n          emailCrypt\n          team {\n            username\n            name\n            country {\n              code\n              name\n            }\n            avatarURL\n          }\n          user {\n            username\n            firstName\n            lastName\n            country {\n              code\n              name\n            }\n            avatarURL\n          }\n        }\n      }\n    }\n  }\n}",f="\nquery ($id: ID!, $count: Int, $sorts: [ContestChallengeStatsSortInput], $filters: ContestChallengeStatsFilterInput) {\n  contest(id: $id) {\n    stats {\n      challengeStats(sorts: $sorts, count: $count, filters: $filters) {\n        challenges {\n          id\n          name\n          categoryName\n          difficultyLevel\n          attempts\n          solves\n          fails\n          successRate\n          solveTimestamps\n        }\n      }\n    }\n  }\n}",g="\nquery ($count: Int, $id: ID!, $offset: Int) {\n  contest(id: $id) {\n    activityLog(count: $count, offset: $offset) {\n      totalCount\n      hasNext\n      lastUpdated\n      activities {\n        contestantID\n        username\n        teamUsername\n        emailCrypt\n        activity\n        timestamp\n        challengeID\n        challengeName\n        points\n      }\n    }\n  }\n}\n",h="\n{\n  contests(count: 100, filters: { managedContests: true }){\n    contests{\n      id\n      name\n      slug\n      organizer {\n        id\n      }     \n    }\n  }\n}",i="query ($slugname: String!){\n  isContestSlugAvailable(slugname:$slugname)\n}",j="\nquery ($contestID: ID!){\n  contest(id: $contestID){\n    notices {\n      id\n      title\n      content\n      isPinned\n      timestampCreated\n      timestampLastUpdated\n    }\n  }\n}",k="\nquery ($contestID: ID!, $keyword: String, $filters: SubmissionFilterInput, $after: String) {\n  submissions(\n    contestID: $contestID\n    keyword: $keyword\n    after: $after\n    filters: $filters\n  ) {\n    hasNext\n    totalCount\n    lastCursor\n    submissions {\n      id\n      challenge {\n        id\n        name\n        difficultyLevel {\n          label\n        }\n        category {\n          name\n        }\n      }\n      isAccepted\n      points\n      timestamp\n      value\n      durationSinceOpening\n      contestant {\n        id\n        user {\n          username\n          firstName\n          avatarURL\n          lastName\n        }\n        emailCrypt\n        team {\n          id\n          name\n          avatarURL\n          username\n        }\n      }\n      ipAddress\n      underReview\n      submittedWithoutOpening\n    }\n  }\n}",l="\nquery ($contestID: ID!){\n  contest(id: $contestID){\n    properties{\n      categories{\n        id\n        name\n      }\n    }\n  }\n}"}}])