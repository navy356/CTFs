import re

l=['use strict','length','test','=','indexOf','div','createElement','id','defineProperty','log','1','toString','isArray','from','string','version','2.0.8','removed','document','nodeType','isSupported','DocumentFragment','HTMLTemplateElement','Node','NodeFilter','NamedNodeMap','MozNamedAttrMap','Text','Comment','DOMParser','trustedTypes','function','template','content','ownerDocument','','createHTML','implementation','createNodeIterator','getElementsByTagName','createDocumentFragment','importNode','createHTMLDocument','documentMode','concat','annotation-xml','audio','colgroup','desc','foreignobject','head','iframe','math','mi','mn','mo','ms','mtext','noembed','noframes','plaintext','script','style','svg','thead','title','video','xmp','img','source','image','alt','class','for','label','name','pattern','placeholder','summary','value','xmlns','form','object','undefined','ALLOWED_TAGS','ALLOWED_ATTR','ADD_URI_SAFE_ATTR','FORBID_TAGS','FORBID_ATTR','USE_PROFILES','ALLOW_ARIA_ATTR','ALLOW_DATA_ATTR','ALLOW_UNKNOWN_PROTOCOLS','SAFE_FOR_JQUERY','SAFE_FOR_TEMPLATES','WHOLE_DOCUMENT','RETURN_DOM','RETURN_DOM_FRAGMENT','RETURN_DOM_IMPORT','RETURN_TRUSTED_TYPE','FORCE_BODY','MCAST_MSFILTER_DOM','KEEP_CONTENT','IN_PLACE','ALLOWED_URI_REGEXP','html','svgFilters','mathMl','ADD_TAGS','ADD_ATTR','#text','body','table','tbody','removeChild','parentNode','outerHTML','getAttributeNode','removeAttribute','<remove></remove>','text/html','parseFromString','documentElement','firstElementChild','createTextNode','childNodes','insertBefore','call','svg img','querySelector','<svg><p><textarea><img src="</textarea><img src=x abc=1//">','<x/><title>&lt;/title&gt;&lt;img&gt;','innerHTML','SHOW_ELEMENT','SHOW_COMMENT','SHOW_TEXT','FILTER_ACCEPT','nodeName','textContent','attributes','setAttribute','namespaceURI','number','beforeMCAST_MSFILTERElements','uponMCAST_MSFILTERElement','p, br','querySelectorAll','insertAdjacentHTML','AfterEnd','noscript','cloneNode','&lt;',' ','afterMCAST_MSFILTERElements','src','xlink:href','href','data:','beforeMCAST_MSFILTERAttributes','attrName','attrValue','keepAttr','forceKeepAttr','uponMCAST_MSFILTERAttribute','IMG','INPUT','type','file','</(','|',')','i','toLowerCase','setAttributeNS','afterMCAST_MSFILTERAttributes','beforeMCAST_MSFILTERShadowDOM','nextNode','uponMCAST_MSFILTERShadowNode','afterMCAST_MSFILTERShadowDOM','MCAST_MSFILTER','<!-->','toString is not a function','dirty is not a string, aborting','toStaticHTML','BODY','HTML','appendChild','<','firstChild','setConfig','clearConfig','isValidAttribute','addHook','removeHook','removeHooks','removeAllHooks','hasOwnProperty','setPrototypeOf','isFrozen','keys','freeze','seal','apply','construct','bind','prototype','forEach','join','pop','push','slice','match','replace','trim','a','abbr','acronym','address','area','article','aside','b','bdi','bdo','big','blink','blockquote','br','button','canvas','caption','center','cite','code','col','data','datalist','dd','decorator','del','details','dfn','dir','dl','dt','element','em','fieldset','figcaption','figure','font','footer','h1','h2','h3','h4','h5','h6','header','hgroup','hr','input','ins','kbd','legend','li','main','map','mark','marquee','menu','menuitem','meter','nav','nobr','ol','optgroup','option','output','p','picture','pre','progress','q','rp','rt','ruby','s','samp','section','select','shadow','small','spacer','span','strike','strong','sub','sup','td','textarea','tfoot','th','time','tr','track','tt','u','ul','var','wbr','altglyph','altglyphdef','altglyphitem','animatecolor','animatemotion','animatetransform','circle','clippath','defs','ellipse','filter','g','glyph','glyphref','hkern','line','lineargradient','marker','mask','metadata','mpath','path','polygon','polyline','radialgradient','rect','stop','switch','symbol','text','textpath','tref','tspan','view','vkern','feBlend','feColorMatrix','feComponentTransfer','feComposite','feConvolveMatrix','feDiffuseLighting','feDisplacementMap','feDistantLight','feFlood','feFuncA','feFuncB','feFuncG','feFuncR','feGaussianBlur','feMerge','feMergeNode','feMorphology','feOffset','fePointLight','feSpecularLighting','feSpotLight','feTile','feTurbulence','menclose','merror','mfenced','mfrac','mglyph','mlabeledtr','mmultiscripts','mover','mpadded','mphantom','mroot','mrow','mspace','msqrt','mstyle','msub','msup','msubsup','mtable','mtd','mtr','munder','munderover','accept','action','align','autocomplete','background','bgcolor','border','cellpadding','cellspacing','checked','clear','color','cols','colspan','controls','coords','crossorigin','datetime','default','disabled','download','enctype','face','headers','height','hidden','high','hreflang','integrity','ismap','lang','list','loop','low','max','maxlength','media','method','min','minlength','multiple','noshade','novalidate','nowrap','open','optimum','poster','preload','pubdate','radiogroup','readonly','rel','required','rev','reversed','role','rows','rowspan','spellcheck','scope','selected','shape','size','sizes','srclang','start','srcset','step','tabindex','usemap','valign','width','accent-height','accumulate','additive','alignment-baseline','ascent','attributename','attributetype','azimuth','basefrequency','baseline-shift','begin','bias','by','clip','clip-path','clip-rule','color-interpolation','color-interpolation-filters','color-profile','color-rendering','cx','cy','d','dx','dy','diffuseconstant','direction','display','divisor','dur','edgemode','elevation','end','fill','fill-opacity','fill-rule','filterunits','flood-color','flood-opacity','font-family','font-size','font-size-adjust','font-stretch','font-style','font-variant','font-weight','fx','fy','g1','g2','glyph-name','gradientunits','gradienttransform','image-rendering','in','in2','k','k1','k2','k3','k4','kerning','keypoints','keysplines','keytimes','lengthadjust','letter-spacing','kernelmatrix','kernelunitlength','lighting-color','local','marker-end','marker-mid','marker-start','markerheight','markerunits','markerwidth','maskcontentunits','maskunits','mode','numoctaves','offset','operator','opacity','order','orient','orientation','origin','overflow','paint-order','pathlength','patterncontentunits','patterntransform','patternunits','points','preservealpha','preserveaspectratio','primitiveunits','r','rx','ry','radius','refx','refy','repeatcount','repeatdur','restart','result','rotate','scale','seed','shape-rendering','specularconstant','specularexponent','spreadmethod','stddeviation','stitchtiles','stop-color','stop-opacity','stroke-dasharray','stroke-dashoffset','stroke-linecap','stroke-linejoin','stroke-miterlimit','stroke-opacity','stroke','stroke-width','surfacescale','targetx','targety','transform','text-anchor','text-decoration','text-rendering','textlength','u1','u2','unicode','values','viewbox','visibility','vert-adv-y','vert-origin-x','vert-origin-y','word-spacing','wrap','writing-mode','xchannelselector','ychannelselector','x','x1','x2','y','y1','y2','z','zoomandpan','accent','accentunder','bevelled','close','columnsalign','columnlines','columnspan','denomalign','depth','displaystyle','encoding','fence','frame','largeop','linethickness','lspace','lquote','mathbackground','mathcolor','mathsize','mathvariant','maxsize','minsize','movablelimits','notation','numalign','rowalign','rowlines','rowspacing','rspace','rquote','scriptlevel','scriptminsize','scriptsizemultiplier','selection','separator','separators','stretchy','subscriptshift','supscriptshift','symmetric','voffset','xml:id','xlink:title','xml:space','xmlns:xlink','iterator','constructor','createPolicy','currentScript','data-tt-policy-suffix','hasAttribute','getAttribute','antihackercode','#','TrustedTypes policy ',' could not be created.','warn','exports','amd','AntIH4Ck3RC0D3zzzzzzzzz','search','location','get','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','random','floor','charAt','onclick','#add','#new-password input','Uh, oh!','Please, provide a password','error','Keep hunting','?password=','+','replaceAll','password','amsterdam_coffeeshops','try harder','#passwords','<div class="password"><span id="passwordsaved">','</span><button class="delete"><i class="fa fa-trash-o"></i></button></div>','.delete','remove','#passwordsaved','completed','toggle','classList','I need a parameter.. maybe look at the sourcecode?']

def deobfuscate():
    flag=0
    f=open('niceManager.js','r')
    fw=open('dManager.js','w')
    for line in f.readlines():
        if line.find("_0x5195") != -1:
            if flag!=0:
                #print(line)
                pass
            flag+=1

        else:
            fw.write(line)
            continue

        if flag==1:
            fw.write(line)
            continue

        pattern=r"_0x5195\[(?P<index>.*?)\]"
        matches=re.findall(pattern,line)
        if matches:
            for match in matches:
                #print(line)
                #print(match)
                exp=eval(match)
                line=line.replace("_0x5195["+match+"]","\'"+l[int(exp)]+"\'")
                #print(line)
        fw.write(line)

deobfuscate()