from pwn import *
from random import randrange

numbers=[]
doctors=[]
if __name__  == "__main__":
    io = remote('34.90.151.171', 1337)
    for i in range(0,100):
        line = f'Choose your door, doctor {i}\n'.encode('utf-8')
        io.recvuntil(line)
        while line == f'Choose your door, doctor {i}\n'.encode('utf-8'): 
            if i not in doctors:
                num=randrange(100)
                while num in numbers:
                    num=randrange(100)
                numbers.append(num)
            else:
                num = numbers[doctors.index(i)]

            io.sendline(str(num).encode('utf-8'))
            answer=io.recvline()

            if answer==b'You live to see another day. Or do you ? :)\n':
                if i not in doctors:
                    doctors.append(i)
                break

            else:
                doc = answer.decode('utf-8')
                n = doc.find(':')
                doc_num = int(doc[n+1:-1])
                if doc_num not in doctors:
                    doctors.append(doc_num)

            line=io.recvline()
            print(line)
        
    print(numbers)
    print(doctors)
    io.interactive()